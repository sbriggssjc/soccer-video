cinematic:
  fps: 24                 # fixed social cadence
  lookahead: 0            # zero: telemetry already has forward-biased Gaussian smoothing
  smoothing: 0.22         # tracking alpha — raised from 0.15 to reduce lag during camera pans
  pad: 0.04               # reduced from 0.10 — preserves more source pixels (1.93x upscale vs 2.22x)
  speed_limit: 1500       # v22e: raised from 1100 — camera can match fast ball flight (50px/f at 30fps)
  post_smooth_sigma: 6.0  # v22e: lowered from 12.0 — with Legacy Gaussian disabled, CINEMA-SMOOTH is the only smoother; sigma=4.8 (~5 frames, 0.17s) gives responsive yet smooth pans
  zoom_min: 0.85          # lowered from 1.00 — allows confidence-driven zoom-out when ball position uncertain
  zoom_max: 1.40          # reduced from 1.90 — caps upscale to ~2x, preserves sharpness
  crf: 17                 # higher quality output
  keyint_factor: 4
  follow:
    source: ball
    keys: [bx_stab, by_stab]
    smoothing: 0.06
    lead_time: 0.10          # 100ms anticipation — keeps ball centered during directional play
    margin_px: 120
    keepinview:
      nudge_gain: 0.50      # strong recenter — raised from 0.20 to prevent ball leaving frame
      zoom_gain: 0.30       # zoom out when ball nears edge — raised from 0.20
      zoom_cap: 1.40        # cap keepinview zoom — matches zoom_max
    speed_zoom:
      enabled: true
      v_lo: 2.0
      v_hi: 12.0
      zoom_lo: 1.25        # slow motion -> mild zoom (was 1.50 — too tight, cut players)
      zoom_hi: 0.90        # fast motion -> zoom out (wider view, lowered from 1.00 to use new headroom)
  portrait:
    size: 1080x1920
    min_box_px: [540, 960] # raised from [486, 864] — higher quality floor
    horizon_lock: 0.20
wide_follow:
  fps: 24
  lookahead: 10
  smoothing: 0.35
  pad: 0.02
  speed_limit: 1400
  zoom_min: 1.00
  zoom_max: 1.25
  crf: 19
  keyint_factor: 4
  follow:
    source: ball
    keys: [bx_stab, by_stab]
    smoothing: 0.35
    lead_time: 0.10
    margin_px: 140
    zoom_out_max: 1.25
    zoom_edge_frac: 0.9
    speed_zoom:
      enabled: true
      v_lo: 2.0
      v_hi: 12.0
      zoom_lo: 1.20
      zoom_hi: 1.00
    controller:
      zeta: 1.10
      wn: 2.20
      deadzone: 40
      max_vel: 220
      max_acc: 2200
      pre_smooth: 0.45
      lookahead: 4
  portrait:
    size: 1080x1920
    min_box_px: [756, 1920]
    horizon_lock: 0.20
segment_smooth:
  fps: 24
  lookahead: 10
  smoothing: 0.35
  pad: 0.02
  speed_limit: 1400
  zoom_min: 1.00
  zoom_max: 1.25
  crf: 19
  keyint_factor: 4
  follow:
    source: ball
    keys: [bx_stab, by_stab]
    smoothing: 0.35
    lead_time: 0.10
    margin_px: 140
    zoom_out_max: 1.25
    zoom_edge_frac: 0.9
    speed_zoom:
      enabled: true
      v_lo: 2.0
      v_hi: 12.0
      zoom_lo: 1.20
      zoom_hi: 1.00
    controller:
      zeta: 1.10
      wn: 2.20
      deadzone: 40
      max_vel: 220
      max_acc: 2200
      pre_smooth: 0.45
      lookahead: 4
  portrait:
    size: 1080x1920
    min_box_px: [756, 1920]
    horizon_lock: 0.20
balanced-responsive:
  fps: 24
  lookahead: 5
  smoothing: 0.35
  pad: 0.10
  speed_limit: 3000
  zoom_min: 1.00
  zoom_max: 1.90
  crf: 19
  keyint_factor: 4
  follow:
    source: ball
    keys: [bx_stab, by_stab]
    smoothing: 0.35
    lead_time: 0.10
    margin_px: 120
    speed_zoom:
      enabled: true
      v_lo: 2.0
      v_hi: 12.0
      zoom_lo: 1.50
      zoom_hi: 1.00
    controller:
      zeta: 1.10
      wn: 4.5
      deadzone: 8
      max_vel: 420
      max_acc: 2200
      pre_smooth: 0.30
      lookahead: 5
  portrait:
    size: 1080x1920
    min_box_px: [486, 864]
    horizon_lock: 0.20
gentle:
  fps: 30
  portrait: "1080x1920"
  lookahead: 12
  smoothing: 0.55
  pad: 0.20
  speed_limit: 360
  zoom_min: 1.0
  zoom_max: 1.8
  crf: 20
  keyint_factor: 4
realzoom:
  fps: 30
  portrait: "1080x1920"
  lookahead: 10
  smoothing: 0.50
  pad: 0.18
  speed_limit: 520
  zoom_min: 1.0
  zoom_max: 2.4
  crf: 19
  keyint_factor: 4
tight-action:
  fps: 24                 # match cinematic cadence for A/B comparison
  lookahead: 0
  smoothing: 0.22
  pad: 0.04               # same source-pixel preservation as cinematic
  speed_limit: 1200        # raised from 800 — allows faster pans for through-balls/counters
  post_smooth_sigma: 2.5   # halved from 5.0 — less lag, still smooth enough for social
  zoom_min: 0.85
  zoom_max: 1.50           # raised from 1.40 — allows tighter zoom on slow play
  crf: 17
  keyint_factor: 4
  follow:
    source: ball
    keys: [bx_stab, by_stab]
    smoothing: 0.06
    lead_time: 0.20          # doubled from 0.10 — 200ms anticipation, camera arrives before ball
    margin_px: 60            # halved from 120 — ball stays much closer to crop center
    keepinview:
      nudge_gain: 0.75      # raised from 0.50 — stronger pull when ball drifts toward edge
      zoom_gain: 0.45       # raised from 0.30 — more aggressive zoom-out fallback
      zoom_cap: 1.50        # matches zoom_max
    speed_zoom:
      enabled: true
      v_lo: 2.0
      v_hi: 12.0
      zoom_lo: 1.40        # raised from 1.25 — tighter on slow play (set pieces, 1v1 dribbles)
      zoom_hi: 0.95         # raised from 0.90 — slightly less zoom-out on fast play
  portrait:
    size: 1080x1920
    min_box_px: [540, 960]
    horizon_lock: 0.20
adaptive-action:
  fps: 24
  lookahead: 0
  smoothing: 0.22
  pad: 0.04
  speed_limit: 1200
  post_smooth_sigma: 2.5
  zoom_min: 0.85
  zoom_max: 1.50
  crf: 17
  keyint_factor: 4
  follow:
    source: ball
    keys: [bx_stab, by_stab]
    smoothing: 0.06
    lead_time: 0.15          # base 150ms; adaptive ramps to ~300ms at full speed
    margin_px: 90             # base margin; adaptive shrinks to ~36px on fast balls
    keepinview:
      nudge_gain: 0.65       # base nudge; proportional system handles the rest
      zoom_gain: 0.40
      zoom_cap: 1.50
    speed_zoom:
      enabled: true
      v_lo: 2.0
      v_hi: 12.0
      zoom_lo: 1.35
      zoom_hi: 0.92
    adaptive:
      enabled: true
      adaptive_v_lo: 1.5     # px/frame — below this = "slow play"
      adaptive_v_hi: 10.0    # px/frame — above this = "fast play"
      adaptive_margin_scale: 2.0   # at full speed: margin -> 2x base (90 -> 180px = very tight)
      adaptive_lead_scale: 2.0     # at full speed: lead -> 2x base
      adaptive_step_scale: 2.5     # at full speed: camera pan limit -> 2.5x base
  portrait:
    size: 1080x1920
    min_box_px: [540, 960]
    horizon_lock: 0.20
auto:
  # One-command preset: analyses each clip's ball trajectory and auto-tunes
  # the planner's step/accel/margin/lead parameters per-clip.  Always uses
  # adaptive per-frame scaling on top of the auto-tuned base.  No manual
  # preset selection required — works for slow set-pieces and fast counters.
  fps: 24
  lookahead: 0
  smoothing: 0.22
  pad: 0.04
  speed_limit: 1400            # generous — auto-tune handles the planner layer
  post_smooth_sigma: 5.0       # heavy Gaussian for smooth cinematic pans (matches cinematic preset)
  zoom_min: 0.85
  zoom_max: 1.50
  crf: 17
  keyint_factor: 4
  auto_tune: true              # triggers per-clip telemetry analysis
  follow:
    source: ball
    keys: [bx_stab, by_stab]
    smoothing: 0.06
    lead_time: 0.15            # base; auto-tune may override in planner
    margin_px: 90              # base; auto-tune may override in planner
    keepinview:
      nudge_gain: 0.65
      zoom_gain: 0.40
      zoom_cap: 1.50
    speed_zoom:
      enabled: true
      v_lo: 2.0
      v_hi: 12.0
      zoom_lo: 1.35
      zoom_hi: 0.92
    adaptive:
      enabled: true
      adaptive_v_lo: 1.5
      adaptive_v_hi: 10.0       # auto-tune recalibrates in planner
      adaptive_margin_scale: 2.0
      adaptive_lead_scale: 2.0
      adaptive_step_scale: 2.5  # auto-tune recalibrates in planner
  portrait:
    size: 1080x1920
    min_box_px: [540, 960]
    horizon_lock: 0.20
burst-catch:
  fps: 24
  lookahead: 6
  smoothing: 0.35
  pad: 0.10
  speed_limit: 3000
  zoom_min: 1.00
  zoom_max: 1.90
  crf: 19
  keyint_factor: 4
  follow:
    source: ball
    keys: [bx_stab, by_stab]
    smoothing: 0.35
    lead_time: 0.10
    margin_px: 120
    speed_zoom:
      enabled: true
      v_lo: 2.0
      v_hi: 12.0
      zoom_lo: 1.50
      zoom_hi: 1.00
    controller:
      zeta: 1.05
      wn: 5.2
      deadzone: 6
      max_vel: 480
      max_acc: 2600
      pre_smooth: 0.28
      lookahead: 6
  portrait:
    size: 1080x1920
    min_box_px: [486, 864]
    horizon_lock: 0.20
